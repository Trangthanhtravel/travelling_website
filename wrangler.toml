name = "travelling-website"
compatibility_date = "2025-08-20"
compatibility_flags = ["nodejs_compat"]

# D1 Database Configuration
[[d1_databases]]
binding = "DB"
database_name = "travelling-website-db"
database_id = "0b8e4e61-4bc6-4862-93e3-d26e92cf5096"

# R2 Storage Configuration
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "travelling-website-images"

[assets]
directory = "./frontend/build"
not_found_handling = "single-page-application"

# Worker configuration for URL redirects
main = "./_worker.js"

[build]
command = "cd frontend && npm ci --legacy-peer-deps && npm run build"

[env.production.vars]
REACT_APP_API_URL = "https://travelling-website-henna-chi.vercel.app/api"
REACT_APP_STRIPE_PUBLIC_KEY = ""

